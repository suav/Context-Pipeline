{
  "analysis": {
    "timestamp": "2025-01-10T00:00:00Z",
    "type": "conservative-orphan-analysis",
    "methodology": "Manual verification with static analysis",
    "confidence_level": "high"
  },
  "summary": {
    "total_files_analyzed": 133,
    "total_orphaned_candidates": 84,
    "verified_safe_deletions": 3,
    "files_needing_review": 6,
    "false_positives_found": 2,
    "total_space_savings_kb": 62
  },
  "safe_to_delete": [
    {
      "path": "src/features/agents/services/AgentService.old.ts",
      "size_bytes": 52462,
      "type": "backup",
      "confidence": "100%",
      "evidence": "Clear .old extension, zero references",
      "command": "rm \"src/features/agents/services/AgentService.old.ts\""
    },
    {
      "path": "src/app/test/page.tsx", 
      "size_bytes": 204,
      "type": "test_page",
      "confidence": "100%",
      "evidence": "In /test/ directory, very small, zero references",
      "command": "rm \"src/app/test/page.tsx\""
    },
    {
      "path": "src/features/context-import/templates/jira-advanced-templates.ts",
      "size_bytes": 8906,
      "type": "unused_template",
      "confidence": "95%",
      "evidence": "Zero references found, appears to be unused template",
      "command": "rm \"src/features/context-import/templates/jira-advanced-templates.ts\""
    }
  ],
  "needs_review": [
    {
      "path": "src/app/api/credentials/test/route.ts",
      "reason": "Test API route - decide if needed for development"
    },
    {
      "path": "src/features/context-import/importers/EmailImporter.ts",
      "reason": "Part of planned email functionality - keep for future"
    },
    {
      "path": "src/features/context-import/services/EmailProcessor.ts", 
      "reason": "Part of planned email functionality - keep for future"
    },
    {
      "path": "src/features/context-import/types/email-types.ts",
      "reason": "Part of planned email functionality - keep for future"
    },
    {
      "path": "src/features/context-import/importers/TextImporter.ts",
      "reason": "Text import functionality - verify if planned feature"
    }
  ],
  "false_positives": [
    {
      "path": "src/components/LazyTestComponent.tsx",
      "reason": "Used via dynamic import in LazyWrapper.tsx",
      "lesson": "Dynamic imports hard to detect with static analysis"
    },
    {
      "path": "src/features/context-import/queries/query-templates.ts",
      "reason": "Used by API route /api/context-workflow/queries/[source]/route.ts",
      "lesson": "Template files often used by API routes"
    }
  ],
  "why_most_files_appear_orphaned": [
    "API routes called via HTTP, not imported (50 files)",
    "Next.js pages accessed via URL routing (4 files)", 
    "Dynamic imports loaded at runtime",
    "Type definitions used via declaration merging",
    "Future features implemented but not yet enabled"
  ],
  "recommendations": {
    "immediate": [
      "Delete the 3 verified safe files (62 KB saved)",
      "Review test API route for development needs",
      "Keep email-related files as planned features",
      "Run tests after any deletions"
    ],
    "future": [
      "Use runtime analysis to detect actual usage",
      "Check for external API dependencies", 
      "Document planned features in code comments",
      "Consider marking future features clearly"
    ]
  },
  "deletion_commands": [
    "rm \"src/features/agents/services/AgentService.old.ts\"",
    "rm \"src/app/test/page.tsx\"",
    "rm \"src/features/context-import/templates/jira-advanced-templates.ts\""
  ],
  "testing_after_deletion": [
    "node scripts/test-comprehensive.js",
    "npm run build",
    "npm run dev"
  ],
  "key_insights": [
    "Modern web apps have many files that appear orphaned to static analysis but are functional",
    "API routes and Next.js pages don't show up in import analysis",
    "Dynamic imports and runtime loading patterns are common",
    "Conservative approach prevents accidental deletion of important functionality",
    "Only 3 out of 84 'orphaned' files are actually safe to delete"
  ]
}